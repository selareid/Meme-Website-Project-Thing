
<head>
    <script src="jQuery.js"></script>
</head>

<body>
<h1>aaaa</h1>

<div id="main"></div>

<script>
    var data;
    function readTextFile(URL) {
        $.ajax({
            async: false,
            url: URL,
            dataType: "text",
            success: function (text) {
//                $(".text").html(data);
                console.log('text from file = ' + text);
                data = text;
            }
        });
    }

    /*
     * takes a string and turns it into an object
     * exp:
     * "a:1,b:2"
     * becomes
     * {a:1, b:2}
     * sorta thing
     */
    function stringToObject(string) {
        if (string) {
            var split = string.split(',');
            var newObj = {};
            for (let split_it of split) {
                var split_split_it = split_it.split(':');

                newObj[split_split_it[0]] = split_split_it[1];
            }
            console.log('new object:');
            console.log(newObj);

            return newObj;
        }
    }

    function setCookie(cname, cvalue, exdays) {
        var d = new Date();
        var expires = "expires="+ d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + undefined + ";path=/";
    }

    function getCookie(cname) {
        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for(var i = 0; i <ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    readTextFile('index.txt');

    var objectOfEntries = stringToObject(data);

    var objectsToLoad = objectOfEntries;

    for (var objectToLoad in objectsToLoad) {
        console.log(objectToLoad);

        var div = document.createElement("div");
        div.id = objectToLoad;
        div.style.width = "1000px";
        div.style.height = "1000px";

        $(function() {
            $('#' + objectToLoad).load(eval(objectsToLoad[objectToLoad]));
        });

        document.getElementById("main").appendChild(div);
    }


</script>

</body>